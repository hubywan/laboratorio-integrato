<div class="w-full">
    <div class="flex flex-col lg:flex-row justify-center">
        <div class="lg:hidden" (click)="redirectToDettaglioPilota(items[0].id)">
            <div class="lg:w-72 lg:h-80 bg-slate-600 m-1">
                {{items[0].posizione}}°
            </div>
        </div>
        <div class="lg:hidden" (click)="redirectToDettaglioPilota(items[1].id)">
            <div class="lg:w-80 lg:h-96 bg-slate-600 m-1">
                {{items[1].posizione}}°
            </div>
        </div>
        <div class="lg:hidden" (click)="redirectToDettaglioPilota(items[2].id)">
            <div class="lg:w-72 lg:h-80 bg-slate-600 m-1">
                {{items[2].posizione}}°
            </div>
        </div>

        <div class="hidden lg:flex lg:flex-row items-end relative overflow-hidden pt-48">
            <div class="lg:w-72 lg:h-36 bg-[#cccccc] m-1 rounded-3xl" (click)="redirectToDettaglioPilota(items[1].id)">
                <h2 class="text-white text-6xl absolute top-0 left-0 mt-20 ms-5">
                    {{items[1].posizione}}°
                </h2>
                <img [src]="items[1].immagine" class="h-48 absolute bottom-24 left-9 mt-7">
                <div class="bg-[#2a2a2a] absolute w-72 h-24 mt-12 rounded-b-3xl flex flex-col">
                    <div class="mt-3 ms-3">
                        <h2 class="text-white text-xl">{{items[1].nome}}</h2>
                        <h2 class="text-white text-base">{{items[1].scuderia.nome}}</h2>
                    </div>
                    <div class="flex justify-end me-6 ">
                        <h2 class="text-white text-base">{{items[1].punti}} pt.</h2>
                    </div>
                </div>
            </div>
            <div class="lg:w-80 lg:h-36 bg-[#cccccc] m-1 rounded-3xl" (click)=" redirectToDettaglioPilota(items[0].id)">
                <h2 class="text-white text-6xl absolute top-0 left-0 mt-8 ml-80">
                    {{items[0].posizione}}°
                </h2>
                <img [src]="items[0].immagine" class="h-60 absolute bottom-24 left-96">
                <div class="bg-[#2a2a2a] absolute w-80 h-24 mt-12 rounded-b-3xl flex flex-col">
                    <div class="flex flex-row">
                        <div class="mt-3 ms-3 ">
                            <h2 class="text-white text-xl">{{items[0].nome}}</h2>
                            <h2 class="text-white text-base">{{items[0].scuderia.nome}}</h2>
                            <h2 class="text-white text-base">{{items[0].punti}} pt.</h2>
                        </div>
                        <div class="flex me-6 items-center ms-16">
                            <img [src]="items[0].nazione.bandiera" class="w-16 h-16 rounded-full">
                        </div>
                    </div>
                </div>
            </div>
            <div class="lg:w-72 lg:h-36 bg-[#cccccc] m-1 rounded-3xl" (click)="redirectToDettaglioPilota(items[2].id)">
                <h2 class="text-white text-6xl absolute top-0 right-0 mt-20 me-52">
                    {{items[2].posizione}}°
                </h2>
                <!-- appena ho immagine giusta si mette quella  -->
                <img [src]="items[2].immagine" class="h-48 absolute bottom-24 right-0 me-12 mt-7">
                <div class="bg-[#2a2a2a] absolute w-72 h-24 mt-12 rounded-b-3xl flex flex-col">
                    <div class="mt-3 ms-3">
                        <h2 class="text-white text-xl">{{items[2].nome}}</h2>
                        <h2 class="text-white text-base">{{items[2].scuderia.nome}}</h2>
                    </div>
                    <div class="flex justify-end me-6 ">
                        <h2 class="text-white text-base">{{items[2].punti}} pt.</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngFor="let item of items; let i = index" class="my-8 mx-4">
        <div *ngIf="i >= 3" class="rounded-3xl flex flex-row bg-[#2a2a2a]" style="height: 140px" [ngClass]="{'rounded-3xl': selectedYear !== 2023, 'rounded-t-3xl': selectedYear === 2023}" (click)="redirectToDettaglioPilota(item.id)">
            <div class="flex items-center w-3/12">
                <h3 class="text-5xl text-white font-bold ms-3">
                    {{item.posizione}}°
                </h3>
            </div>
            <div class="flex flex-row w-4/12">
                <div class="text-white flex flex-row max-w-xs">
                    <div class="custom-width relative">
                        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{{item.immagine}}')"></div>
                        <img src="{{item.immagine}}" class="opacity-0 object-cover custom-width">
                    </div>
                </div>
                <div class="flex mt-7">
                    <img [src]="item.nazione.bandiera" class="h-5 w-5 rounded-full object-cover lg:hidden">
                </div>
            </div>
            <div class="flex flex-col m-2 my-5 w-5/12 justify-between">
                <div>
                    <h3 class="text-white text-base text-center">
                        {{item.nome}}
                    </h3>
                    <h3 class="text-white text-sm text-center">
                        {{item.scuderia.nome}}
                    </h3>
                </div>
                <div>
                    <h3 class="text-white text-xl text-center ">
                        {{item.punti}} pt.
                    </h3>
                </div>
            </div>
        </div>
        <div *ngIf="showMoreData && showMoreData[i]" class="second-div h-72 bg-[#393939]">
            <div>
                <button>tabella</button>
                <button>grafico</button>
            </div>
            <p>Andamento stagionale per pilota id: {{ i }}</p>
        </div>

        <a *ngIf="selectedYear === 2023 && i >= 3" (click)="toggleMoreData(i)" class="w-full h-9 bg-[#e54f2c] rounded-b-2xl flex items-center justify-center">
            <h3 class="text-white">visualizza andamento stagionale (freccia verso il basso)</h3>
        </a>
    </div>

    <div class="rounded-3xl flex flex-row border" style="height: 140px">
        <div style="
            position:absolute;
            filter: brightness(0.2) blur(6px);
            width: 100%;
            height: 140px;
            z-index: -1;
            background-image: url({{items[3].nazione.bandiera}});
            background-size: cover;
            "></div>
        <div class="flex items-center">
            <h3 class="text-7xl text-white font-bold">
                {{items[3].posizione}}°
            </h3>
        </div>
        <div class=" text-white flex flex-row">
            <img src="{{items[3].immagine}}" alt="">
        </div>
        <div>
            <h3 class="text-white">
                {{items[3].nome}}
            </h3>
            <h3 class="text-white">
                {{items[3].scuderia.nome}}
            </h3>
            <h3 class="text-white">
                {{items[3].punti}}
            </h3>
        </div>
    </div>
</div>